/**
 * melocotonazo - Info sobre el melocotonazo de la semana. 
 * @version v0.0.5
 * @author Jon E. Eguiluz
 * @license ISC
 */
window.melocotonazo=window.melocotonazo||{},function(i){i.index=function(t){this.dom=t,this.autor="Fernando Alfaro",this.autor_wiki="Fernando Alfaro (m√∫sico)",this.cancion="Velero",this.youtube_id="CqXnwj8u2Gc",i.updateTittles(),i.getSpotifyInfo(),i.updateYoutube(),i.readWiki()},i.readWiki=function(){var t="http://es.wikipedia.org/w/api.php?format=json&action=query&prop=extracts&callback=?&titles="+this.autor_wiki,o=[];$.when($.getJSON(t)).then(function(i){return $.each(i.query.pages,function(i,t){o.push(t.extract)}),o}).then(i.appendWikiExtract)},i.appendWikiExtract=function(t){$.each(t,function(t,o){i.dom.find("#wikipedia .container").append(o)})},i.appendCover=function(i){this.dom.css("background-image","url("+i.url+")")},i.updateTittles=function(){this.dom.find("header h1 .cancion").html(this.cancion),this.dom.find("header h1 .autor").html(this.autor)},i.updateSpotify=function(i){this.dom.find("#spotify iframe").prop("src","https://embed.spotify.com/?uri=spotify:track:"+i)},i.updateYoutube=function(){this.dom.find("#youtube iframe").prop("src","https://www.youtube.com/embed/"+this.youtube_id)},i.getSpotifyInfo=function(){var t="https://api.spotify.com/v1/search?q="+i.autor+" "+i.cancion+"&type=track";$.when($.getJSON(t)).then(function(t){i.appendCover(t.tracks.items[0].album.images[0]),i.updateSpotify(t.tracks.items[0].id)})},i.showYoutube=function(){this.dom.find("#youtube").addClass("show"),this.dom.find("#cerrarFullScreen").addClass("show")},i.showWikipedia=function(){this.dom.find("#wikipedia").addClass("show"),this.dom.find("#cerrarFullScreen").addClass("show")},i.hideFullScreen=function(){this.dom.find("#youtube").removeClass("show"),this.dom.find("#wikipedia").removeClass("show"),this.dom.find("#cerrarFullScreen").removeClass("show")},i.scafolding=function(){}}(window.melocotonazo);
